(function(e,n){"use strict";var r,t;"undefined"==typeof exports||e!==exports&&null!=e||(r=t=global),null==r&&(r="undefined"==typeof window?global:window),null==t&&(t=e||r),n(r,t)})(this,function(e,n){"use strict";function r(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")}function t(e,n){if(null==n)return e;for(var r in n)e[r]=n[r];return e}function o(){return this}var u=function(){function e(t){if(null==t)return t;var o,u=r(t);switch(u){case"String":case"Number":case"Date":case"RegExp":case"Function":case"Error":case"Boolean":return t;case"Array":case"Arguments":o=[];for(var i=0,a=t.length;a>i;i++)o[i]=e(t[i]);return o;case"Object":case"global":if(-1!==n.indexOf(t))return"<circular>";n.push(t),o={};for(var c in t)o[c]=e(t[c]);return o;default:return console.warn("obj_dimissCircular: Unknown type",u),t}}var n;return function(r){return"object"==typeof r&&null!=r&&(n=[],r=e(r),n=null),r}}(),i=function(){function e(e){for(var n="",r=0;e>r;r++)n+="  ";return n}return function n(t,o,u){null==u&&(u=0);var i=["",0];if(void 0===t)return i[1]="<undefined>",o(i,"undefined"),i[1];if(null==t)return i[1]="<null>",o(i,"null"),i[1];var a=r(t);switch(a){case"Array":case"Arguments":for(var c,l="[",s=t,f=0,g=s.length;g>f;f++)c=s[f],"["===l&&(l+="\n"),l+=e(u+1)+n(c,o,u+1)+(g-1>f?",":"")+"\n";return l+=e(u)+"]";case"RegExp":return i[1]=""+t,o(i,"regexp"),i[1];case"Date":return i[1]=t.toISOString(),o(i,"date"),i[1];case"String":case"Number":case"Boolean":return i[1]=t,o(i,a.toLowerCase()),i[1];case"Function":return i[1]="<function>",o(i,a.toLowerCase()),i[1];case"Error":return(""+t).red;case"Object":case"global":var d,l="{",b=Object.keys(t);for(f=0,g=b.length;g>f;f++)d=b[f],"{"===l&&(l+="\n"),i[0]=d,i[1]=t[d],o(i),l+=e(u+1)+i[0]+": "+n(t[d],o,u+1)+(g-1>f?",":"")+"\n";return l+=e(u)+"}"}}}(),a=function(){function e(e){function n(e,n){for(var r,t=1,o=e.length,u=n;o>u;u++)if(r=e.charCodeAt(u),60===r&&t++,62===r&&t--,0===t)return u;return-1}function r(r){e.rgx_search.lastIndex=0;for(var o,u,i,a="ascii"===e.type,c=a?[]:null;o=e.rgx_search.exec(r),null!=o;)if(u=o[1],null!=e.value[u]){var l,s=o.index,f=s+o[0].length;i=n(r,f),-1!==i&&(l=e.start(u),r=r.substring(0,s)+l+r.substring(f,i)+e.END+(a?t(c,i):"")+r.substring(i+1),a&&c.push({end:i,key:u}),e.rgx_search.lastIndex=s+l.length)}return r}function t(n,r){for(var t,o="",u=0,i=n.length;i>u;u++)t=n[u],r>t.end||(o+=e.start(t.key));return o}if(null==e.rgx_search){var o="(";for(var u in e.value)o+="("===o?u:"|"+u;o+=")<",e.rgx_search=RegExp(o,"g")}return Object.keys(e.value).forEach(function(n){try{Object.defineProperty(String.prototype,n,{get:function(){return e.start(n)+this+e.END},enumerable:!1,configurable:!0})}catch(r){}}),Object.defineProperty(String.prototype,"color",{get:function(){return r(this)},enumerable:!1,configurable:!0}),r}var n,r={END:"",value:{red:"",green:"",yellow:"",blue:"",magenta:"",cyan:"",bold:"",italic:"",underline:"",inverse:""},start:function(){return""}},t={END:"</span>",value:{red:"color:red",green:"color:green",yellow:"color:yellow",blue:"color:blue",magenta:"color:magenta",cyan:"color:cyan",bold:"font-weight:bold",italic:"font-style:italic",underline:"text-decoration:underline",inverse:"color:black;background:white"},start:function(e){var n='<span style="'+this.value[e]+'">';return n}},o={type:"ascii",START:"[",END:"[0m",value:{red:"31m",green:"32m",yellow:"33m",blue:"34m",magenta:"35m",cyan:"36m",white:"37m",black:"30m",bg_black:"40m",bg_red:"41m",bg_green:"42m",bg_yellow:"43m",bg_blue:"44m",bg_magenta:"45m",bg_cyan:"46m",bg_white:"47m",bold:"1m",italic:"3m",underline:"4m",inverse:"7m"},start:function(e){return this.START+this.value[e]}};n=e(o);var c={string:"yellow",number:"cyan","boolean":"cyan",regexp:"magenta",date:"magenta","function":"magenta","null":"blue",undefined:"blue"};return{init:{ascii:function(){n=e(o)},html:function(){n=e(t)},none:function(){n=e(r)}},colorize:function(e){return n(e)},formatJSON:function(e){var n=e;return void 0!==n&&"object"==typeof n&&(n=u(e)),i(n,function(e,n){n&&c[n]&&(e[1]=(e[1]+"")[c[n]]),e[0]&&(e[0]=e[0].bold)})},define:function(e){return a.init[e]?a.init[e]():(console.error("Invalid Color Type ",e),void 0)}}}(),c=function(){var e,n={};return n.std=function(){return{write:function(e){process.stdout.write(e)}}}(),e=n.std,{define:function(r){var t=r.type;return e=n[t],e.cfg(r),this},write:function(n){e.write("\n"+n)}}}(),l=function(){function e(e){for(var n,r,t="",o=/%s|%d/,u=e.length>1&&"string"==typeof e[0]&&o.test(e[0]),i=0,c=e.length;c>i;i++)r=e[i],n="string"==typeof r?r:a.formatJSON(r),i>0&&u&&o.test(t)?t=t.replace(o,n):(""!==t&&(t+="  "),t+=n);return t}function n(e){c.write(e)}function r(e,n){switch(e){case"color":a.define(n)}}function u(e){return e>l?f:s}var i={},l=50,s={cfg:function(e){if("string"==typeof e){if(1===arguments.length)return i[e];r(e,arguments[1])}for(var n in e)r(n,e[n])},color:a,formatMessage:function(){return e(arguments)},log:function(){return n(e(arguments)),this},error:function(){return n(e(arguments).red.bold),this},warn:function(){return n(e(arguments).yellow),this},setLevel:function(e){return l=e,this}},f={cfg:s.cfg,color:s.color,log:o,error:o,warn:o};return t(u,s),u}();n.logger=l});
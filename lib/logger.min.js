(function(e,r){"use strict";var n,t;"undefined"==typeof exports||e!==exports&&null!=e||(n=t=global),null==n&&(n="undefined"==typeof window?global:window),null==t&&(t=e||n),r(n,t)})(this,function(e,r){"use strict";function n(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")}function t(e,r){if(null==r)return e;for(var n in r)e[n]=r[n];return e}function o(){return this}var a,u=function(){function e(t){if(null==t)return t;var o,a=n(t);switch(a){case"String":case"Number":case"Date":case"RegExp":case"Function":case"Error":case"Boolean":return t;case"Array":case"Arguments":o=[];for(var u=0,i=t.length;i>u;u++)o[u]=e(t[u]);return o;case"Object":case"global":if(-1!==r.indexOf(t))return"<circular>";r.push(t),o={};for(var l in t)o[l]=e(t[l]);return o;default:return console.warn("obj_dimissCircular: Unknown type",a),t}}var r;return function(n){return"object"==typeof n&&null!=n&&(r=[],n=e(n),r=null),n}}(),i=function(){function e(e){for(var r="",n=0;e>n;n++)r+="  ";return r}return function r(t,o,a){null==a&&(a=0);var u=["",0];if(void 0===t)return u[1]="<undefined>",o(u,"undefined"),u[1];if(null==t)return u[1]="<null>",o(u,"null"),u[1];var i=n(t);switch(i){case"Array":case"Arguments":for(var l,c="[",s=t,f=0,g=s.length;g>f;f++)l=s[f],"["===c&&(c+="\n"),c+=e(a+1)+r(l,o,a+1)+(g-1>f?",":"")+"\n";return c+=e(a)+"]";case"RegExp":return u[1]=""+t,o(u,"regexp"),u[1];case"Date":return u[1]=t.toISOString(),o(u,"date"),u[1];case"String":case"Number":case"Boolean":return u[1]=t,o(u,i.toLowerCase()),u[1];case"Function":return u[1]="<function>",o(u,i.toLowerCase()),u[1];case"Error":return(""+t).red;case"Object":case"global":var d,c="{",b=Object.keys(t);for(f=0,g=b.length;g>f;f++)d=b[f],"{"===c&&(c+="\n"),u[0]=d,u[1]=t[d],o(u),c+=e(a+1)+u[0]+": "+r(t[d],o,a+1)+(g-1>f?",":"")+"\n";return c+=e(a)+"}"}}}();(function(){a=function(e,r){var n=Error().stack.split("\n"),t=n[r||2];if(null==t)return"";t=t.substr(t.indexOf("(")+1,t.lastIndexOf(")")-1);var o=/^(.+):(\d+):(\d)/.exec(t);if(null==o)return"";var a=o[1],u=a.substring(a.search(/[\/\\][^\/\\]+$/)+1),i=o[2];return e.replace("P",a).replace("F",u).replace("L",i)}})();var l=function(){function e(e){function r(e,r){for(var n,t=1,o=e.length,a=r;o>a;a++)if(n=e.charCodeAt(a),60===n&&t++,62===n&&t--,0===t)return a;return-1}function n(n){e.rgx_search.lastIndex=0;for(var o,a,u,i="ascii"===e.type,l=i?[]:null;o=e.rgx_search.exec(n),null!=o;)if(a=o[1],null!=e.value[a]){var c,s=o.index,f=s+o[0].length;u=r(n,f),-1!==u&&(c=e.start(a),n=n.substring(0,s)+c+n.substring(f,u)+e.END+(i?t(l,u):"")+n.substring(u+1),i&&l.push({end:u,key:a}),e.rgx_search.lastIndex=s+c.length)}return n}function t(r,n){for(var t,o="",a=0,u=r.length;u>a;a++)t=r[a],n>t.end||(o+=e.start(t.key));return o}if(null==e.rgx_search){var o="(";for(var a in e.value)o+="("===o?a:"|"+a;o+=")<",e.rgx_search=RegExp(o,"g")}return Object.keys(e.value).forEach(function(r){try{Object.defineProperty(String.prototype,r,{get:function(){return e.start(r)+this+e.END},enumerable:!1,configurable:!0})}catch(n){}}),Object.defineProperty(String.prototype,"color",{get:function(){return n(this)},enumerable:!1,configurable:!0}),n}var r,n={END:"",value:{red:"",green:"",yellow:"",blue:"",magenta:"",cyan:"",bold:"",italic:"",underline:"",inverse:""},start:function(){return""}},t={END:"</span>",value:{red:"color:red",green:"color:green",yellow:"color:yellow",blue:"color:blue",magenta:"color:magenta",cyan:"color:cyan",bold:"font-weight:bold",italic:"font-style:italic",underline:"text-decoration:underline",inverse:"color:black;background:white"},start:function(e){var r='<span style="'+this.value[e]+'">';return r}},o={type:"ascii",START:"[",END:"[0m",value:{red:"31m",green:"32m",yellow:"33m",blue:"34m",magenta:"35m",cyan:"36m",white:"37m",black:"30m",bg_black:"40m",bg_red:"41m",bg_green:"42m",bg_yellow:"43m",bg_blue:"44m",bg_magenta:"45m",bg_cyan:"46m",bg_white:"47m",bold:"1m",italic:"3m",underline:"4m",inverse:"7m"},start:function(e){return this.START+this.value[e]}};r=e(o);var a={string:"yellow",number:"cyan","boolean":"cyan",regexp:"magenta",date:"magenta","function":"magenta","null":"blue",undefined:"blue"};return{init:{ascii:function(){r=e(o)},html:function(){r=e(t)},none:function(){r=e(n)}},colorize:function(e){return r(e)},formatJSON:function(e){var r=e;return void 0!==r&&"object"==typeof r&&(r=u(e)),i(r,function(e,r){r&&a[r]&&(e[1]=(e[1]+"")[a[r]]),e[0]&&(e[0]=e[0].bold)})},define:function(e){return l.init[e]?l.init[e]():(console.error("Invalid Color Type ",e),void 0)}}}(),c=function(){var e,r={};return r.std=function(){return{write:function(e){process.stdout.write(e)}}}(),e=r.std,{define:function(n){var t=n.type;return e=r[t],e.cfg(n),this},write:function(r){e.write("\n"+r)}}}(),s=function(){function e(e){for(var r,n,t="",o=/%s|%d/,a=e.length>1&&"string"==typeof e[0]&&o.test(e[0]),u=0,i=e.length;i>u;u++)n=e[u],r="string"==typeof n?n:l.formatJSON(n),u>0&&a&&o.test(t)?t=t.replace(o,r):(""!==t&&(t+="  "),t+=r);return t}function r(e){i.logCaller&&(e+=a(" (F:L)",4)),c.write(e)}function n(e,r){switch(e){case"color":l.define(r);break;case"level":s=r}}function u(e){return e>s?g:f}var i={logCaller:!0},s=50,f={cfg:function(e){if("string"==typeof e){if(1===arguments.length)return i[e];n(e,arguments[1])}for(var r in e)n(r,e[r])},color:l,formatMessage:function(){return e(arguments)},log:function(){return r(e(arguments)),this},error:function(){return r(e(arguments).red.bold),this},warn:function(){return r(e(arguments).yellow),this}},g={cfg:f.cfg,color:f.color,log:o,error:o,warn:o};return t(u,f),u}();if("udefined"!=typeof process)for(var f,g=process.argv.slice(2),d=0,b=g.length;b>d;d++)switch(f=g[d].replace(/^\-+/,"")){case"no-color":s.cfg("color","none");break;case"level":var v=g[++d]<<0;if(0===v){s.warn("<logger> invalid cli command --level X");break}s.cfg("level",v)}r.logger=s});
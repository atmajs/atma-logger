(function(e,n){"use strict";var r,t;"undefined"==typeof exports||e!==exports&&null!=e||(r=t=global),null==r&&(r="undefined"==typeof window?global:window),null==t&&(t=e||r),n(r,t)})(this,function(e,n){"use strict";function r(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")}function t(e,n){if(null==n)return e;for(var r in n)e[r]=n[r];return e}function l(){return this}var o,a=function(){function e(t){if(null==t)return t;var l,o=r(t);switch(o){case"String":case"Number":case"Date":case"RegExp":case"Function":case"Error":case"Boolean":return t;case"Array":case"Arguments":l=[];for(var a=0,u=t.length;u>a;a++)l[a]=e(t[a]);return l;case"Object":case"global":if(-1!==n.indexOf(t))return"<circular>";n.push(t),l={};for(var i in t)l[i]=e(t[i]);return l;default:return console.warn("obj_dimissCircular: Unknown type",o),t}}var n;return function(r){return"object"==typeof r&&null!=r&&(n=[],r=e(r),n=null),r}}(),u=function(){function e(e){for(var n="",r=0;e>r;r++)n+="  ";return n}return function n(t,l,o){null==o&&(o=0);var a=["",0];if(void 0===t)return a[1]="<undefined>",l(a,"undefined"),a[1];if(null==t)return a[1]="<null>",l(a,"null"),a[1];var u=r(t);switch(u){case"Array":case"Arguments":for(var i,c="[",s=t,f=0,g=s.length;g>f;f++)i=s[f],"["===c&&(c+="\n"),c+=e(o+1)+n(i,l,o+1)+(g-1>f?",":"")+"\n";return c+=e(o)+"]";case"RegExp":return a[1]=""+t,l(a,"regexp"),a[1];case"Date":return a[1]=t.toISOString(),l(a,"date"),a[1];case"String":case"Number":case"Boolean":return a[1]=t,l(a,u.toLowerCase()),a[1];case"Function":return a[1]="<function>",l(a,u.toLowerCase()),a[1];case"Error":return(""+t).red;case"Object":case"global":var d,c="{",b=Object.keys(t);for(f=0,g=b.length;g>f;f++)d=b[f],"{"===c&&(c+="\n"),a[0]=d,a[1]=t[d],l(a),c+=e(o+1)+a[0]+": "+n(t[d],l,o+1)+(g-1>f?",":"")+"\n";return c+=e(o)+"}"}}}();(function(){function e(e){")"===e[e.length-1]&&(e=e.substr(e.indexOf("(")+1,e.lastIndexOf(")")-1));var t=/^(.+):(\d+):(\d)/.exec(e);if(null==t)return null;var l=r.path=t[1];return r.file=l.substring(l.search(/[\/\\][^\/\\]+$/)+1),r.line=t[2],null==n&&(n=r.file),r}var n,r={path:null,file:null,line:null};o=function(r){for(var t,l=Error().stack.split("\n").splice(1),o=l.length,a=-1;o>++a&&(t=e(l[a]),null==t||null==n||t.file===n););return null==t||a===o?"":r.replace("P",t.path).replace("F",t.file).replace("L",t.line)}})();var i=function(){function e(e){function n(e,n){for(var r,t=1,l=e.length,o=n;l>o;o++)if(r=e.charCodeAt(o),60===r&&t++,62===r&&t--,0===t)return o;return-1}function r(r){e.rgx_search.lastIndex=0;for(var l,o,a,u="ascii"===e.type,i=u?[]:null;l=e.rgx_search.exec(r),null!=l;)if(o=l[1],null!=e.value[o]){var c,s=l.index,f=s+l[0].length;a=n(r,f),-1!==a&&(c=e.start(o),r=r.substring(0,s)+c+r.substring(f,a)+e.END+(u?t(i,a):"")+r.substring(a+1),u&&i.push({end:a,key:o}),e.rgx_search.lastIndex=s+c.length)}return r}function t(n,r){for(var t,l="",o=0,a=n.length;a>o;o++)t=n[o],r>t.end||(l+=e.start(t.key));return l}if(null==e.rgx_search){var l="(";for(var o in e.value)l+="("===l?o:"|"+o;l+=")<",e.rgx_search=RegExp(l,"g")}return Object.keys(e.value).forEach(function(n){try{Object.defineProperty(String.prototype,n,{get:function(){return e.start(n)+this+e.END},enumerable:!1,configurable:!0})}catch(r){}}),Object.defineProperty(String.prototype,"color",{get:function(){return r(this)},enumerable:!1,configurable:!0}),r}var n,r={END:"",value:{red:"",green:"",yellow:"",blue:"",magenta:"",cyan:"",bold:"",italic:"",underline:"",inverse:""},start:function(){return""}},t={END:"</span>",value:{red:"color:red",green:"color:green",yellow:"color:yellow",blue:"color:blue",magenta:"color:magenta",cyan:"color:cyan",bold:"font-weight:bold",italic:"font-style:italic",underline:"text-decoration:underline",inverse:"color:black;background:white"},start:function(e){var n='<span style="'+this.value[e]+'">';return n}},l={type:"ascii",START:"[",END:"[0m",value:{red:"31m",green:"32m",yellow:"33m",blue:"34m",magenta:"35m",cyan:"36m",white:"37m",black:"30m",bg_black:"40m",bg_red:"41m",bg_green:"42m",bg_yellow:"43m",bg_blue:"44m",bg_magenta:"45m",bg_cyan:"46m",bg_white:"47m",bold:"1m",italic:"3m",underline:"4m",inverse:"7m"},start:function(e){return this.START+this.value[e]}};n=e(l);var o={string:"yellow",number:"cyan","boolean":"cyan",regexp:"magenta",date:"magenta","function":"magenta","null":"blue",undefined:"blue"};return{init:{ascii:function(){n=e(l)},html:function(){n=e(t)},none:function(){n=e(r)}},colorize:function(e){return n(e)},formatJSON:function(e){var n=e;return void 0!==n&&"object"==typeof n&&(n=a(e)),u(n,function(e,n){n&&o[n]&&(e[1]=(e[1]+"")[o[n]]),e[0]&&(e[0]=e[0].bold)})},define:function(e){return i.init[e]?i.init[e]():(console.error("Invalid Color Type ",e),void 0)}}}(),c=function(){var e,n={};return n.std=function(){return{write:function(e){process.stdout.write(e)}}}(),e=n.std,{define:function(r){var t=r.type;return e=n[t],e.cfg(r),this},write:function(n){e.write("\n"+n)}}}(),s=function(){function e(e){for(var n,r,t="",l=/%s|%d/,o=e.length>1&&"string"==typeof e[0]&&l.test(e[0]),a=0,u=e.length;u>a;a++)r=e[a],n="string"==typeof r?r:i.formatJSON(r),a>0&&o&&l.test(t)?t=t.replace(l,n):(""!==t&&(t+="  "),t+=n);return t}function n(e){u.logCaller&&(e+=o(" (F:L)",5)),c.write(e)}function r(e,n){switch(e){case"color":i.define(n);break;case"level":s=n;break;default:u[e]=n}}function a(e){return e>s?g:f}var u={logCaller:!0},s=50,f={cfg:function(e){if("string"==typeof e){if(1===arguments.length)return u[e];r(e,arguments[1])}for(var n in e)r(n,e[n])},color:i,formatMessage:function(){return e(arguments)},log:function(){return n(e(arguments)),this},error:function(){return n(e(arguments).red.bold),this},warn:function(){return n(e(arguments).yellow),this}},g={cfg:f.cfg,color:f.color,log:l,error:l,warn:l};return t(a,f),a}();if("udefined"!=typeof process)for(var f,g=process.argv.slice(2),d=0,b=g.length;b>d;d++)switch(f=g[d].replace(/^\-+/,"")){case"no-color":s.cfg("color","none");break;case"level":var v=g[++d]<<0;if(0===v){s.warn("<logger> invalid cli command --level X");break}s.cfg("level",v)}n.logger=s});
(function(e,n){"use strict";var r,t;"undefined"==typeof exports||e!==exports&&null!=e||(r=t=global),null==r&&(r="undefined"==typeof window?global:window),null==t&&(t=e||r),n(r,t)})(this,function(e,n){"use strict";function r(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")}function t(e,n){if(null==n)return e;for(var r in n)e[r]=n[r];return e}function o(){return this}var a=function(){function e(t){if(null==t)return t;var o,a=r(t);switch(a){case"String":case"Number":case"Date":case"RegExp":case"Function":case"Error":case"Boolean":return t;case"Array":case"Arguments":o=[];for(var u=0,i=t.length;i>u;u++)o[u]=e(t[u]);return o;case"Object":case"global":if(-1!==n.indexOf(t))return"<circular>";n.push(t),o={};for(var c in t)o[c]=e(t[c]);return o;default:return console.warn("obj_dimissCircular: Unknown type",a),t}}var n;return function(r){return"object"==typeof r&&null!=r&&(n=[],r=e(r),n=null),r}}(),u=function(){function e(e){for(var n="",r=0;e>r;r++)n+="  ";return n}return function n(t,o,a){null==a&&(a=0);var u=["",0];if(void 0===t)return u[1]="<undefined>",o(u,"undefined"),u[1];if(null==t)return u[1]="<null>",o(u,"null"),u[1];var i=r(t);switch(i){case"Array":case"Arguments":for(var c,l="[",s=t,f=0,g=s.length;g>f;f++)c=s[f],"["===l&&(l+="\n"),l+=e(a+1)+n(c,o,a+1)+(g-1>f?",":"")+"\n";return l+=e(a)+"]";case"RegExp":return u[1]=""+t,o(u,"regexp"),u[1];case"Date":return u[1]=t.toISOString(),o(u,"date"),u[1];case"String":case"Number":case"Boolean":return u[1]=t,o(u,i.toLowerCase()),u[1];case"Function":return u[1]="<function>",o(u,i.toLowerCase()),u[1];case"Error":return(""+t).red;case"Object":case"global":var d,l="{",b=Object.keys(t);for(f=0,g=b.length;g>f;f++)d=b[f],"{"===l&&(l+="\n"),u[0]=d,u[1]=t[d],o(u),l+=e(a+1)+u[0]+": "+n(t[d],o,a+1)+(g-1>f?",":"")+"\n";return l+=e(a)+"}"}}}(),i=function(){function e(e){function n(e,n){for(var r,t=1,o=e.length,a=n;o>a;a++)if(r=e.charCodeAt(a),60===r&&t++,62===r&&t--,0===t)return a;return-1}function r(r){e.rgx_search.lastIndex=0;for(var o,a,u,i="ascii"===e.type,c=i?[]:null;o=e.rgx_search.exec(r),null!=o;)if(a=o[1],null!=e.value[a]){var l,s=o.index,f=s+o[0].length;u=n(r,f),-1!==u&&(l=e.start(a),r=r.substring(0,s)+l+r.substring(f,u)+e.END+(i?t(c,u):"")+r.substring(u+1),i&&c.push({end:u,key:a}),e.rgx_search.lastIndex=s+l.length)}return r}function t(n,r){for(var t,o="",a=0,u=n.length;u>a;a++)t=n[a],r>t.end||(o+=e.start(t.key));return o}if(null==e.rgx_search){var o="(";for(var a in e.value)o+="("===o?a:"|"+a;o+=")<",e.rgx_search=RegExp(o,"g")}return Object.keys(e.value).forEach(function(n){try{Object.defineProperty(String.prototype,n,{get:function(){return e.start(n)+this+e.END},enumerable:!1,configurable:!0})}catch(r){}}),Object.defineProperty(String.prototype,"color",{get:function(){return r(this)},enumerable:!1,configurable:!0}),r}var n,r={END:"",value:{red:"",green:"",yellow:"",blue:"",magenta:"",cyan:"",bold:"",italic:"",underline:"",inverse:""},start:function(){return""}},t={END:"</span>",value:{red:"color:red",green:"color:green",yellow:"color:yellow",blue:"color:blue",magenta:"color:magenta",cyan:"color:cyan",bold:"font-weight:bold",italic:"font-style:italic",underline:"text-decoration:underline",inverse:"color:black;background:white"},start:function(e){var n='<span style="'+this.value[e]+'">';return n}},o={type:"ascii",START:"[",END:"[0m",value:{red:"31m",green:"32m",yellow:"33m",blue:"34m",magenta:"35m",cyan:"36m",white:"37m",black:"30m",bg_black:"40m",bg_red:"41m",bg_green:"42m",bg_yellow:"43m",bg_blue:"44m",bg_magenta:"45m",bg_cyan:"46m",bg_white:"47m",bold:"1m",italic:"3m",underline:"4m",inverse:"7m"},start:function(e){return this.START+this.value[e]}};n=e(o);var c={string:"yellow",number:"cyan","boolean":"cyan",regexp:"magenta",date:"magenta","function":"magenta","null":"blue",undefined:"blue"};return{init:{ascii:function(){n=e(o)},html:function(){n=e(t)},none:function(){n=e(r)}},colorize:function(e){return n(e)},formatJSON:function(e){var n=e;return void 0!==n&&"object"==typeof n&&(n=a(e)),u(n,function(e,n){n&&c[n]&&(e[1]=(e[1]+"")[c[n]]),e[0]&&(e[0]=e[0].bold)})},define:function(e){return i.init[e]?i.init[e]():(console.error("Invalid Color Type ",e),void 0)}}}(),c=function(){var e,n={};return n.std=function(){return{write:function(e){process.stdout.write(e)}}}(),e=n.std,{define:function(r){var t=r.type;return e=n[t],e.cfg(r),this},write:function(n){e.write("\n"+n)}}}(),l=function(){function e(e){for(var n,r,t="",o=/%s|%d/,a=e.length>1&&"string"==typeof e[0]&&o.test(e[0]),u=0,c=e.length;c>u;u++)r=e[u],n="string"==typeof r?r:i.formatJSON(r),u>0&&a&&o.test(t)?t=t.replace(o,n):(""!==t&&(t+="  "),t+=n);return t}function n(e){c.write(e)}function r(e,n){switch(e){case"color":i.define(n);break;case"level":l=n}}function a(e){return e>l?f:s}var u={},l=50,s={cfg:function(e){if("string"==typeof e){if(1===arguments.length)return u[e];r(e,arguments[1])}for(var n in e)r(n,e[n])},color:i,formatMessage:function(){return e(arguments)},log:function(){return n(e(arguments)),this},error:function(){return n(e(arguments).red.bold),this},warn:function(){return n(e(arguments).yellow),this}},f={cfg:s.cfg,color:s.color,log:o,error:o,warn:o};return t(a,s),a}();if(null!=typeof process)for(var s,f=process.argv.slice(2),g=0,d=f.length;d>g;g++)switch(s=f[g].replace(/^\-+/,"")){case"no-color":l.cfg("color","none");break;case"level":var b=f[++g]<<0;if(0===b){l.warn("<logger> invalid cli command --level X");break}l.cfg("level",b)}n.logger=l});